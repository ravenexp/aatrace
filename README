aatrace - Yet another ASCII-art generator

1. Building

$ make

while (!works)
      tweak(Makefile);

2. Usage

Using convenience wrapper script:

$ ./aaconvert.sh image.pgm [diffscale] [diffkernel] [matchmethod] [sadweight] [asdweight]

Generates image.diff.pgm, image.txt and image.txt.pgm files
in the current directory.
image.diff.pgm is an intermediate differentiated image output,
image.txt is the text output and image.txt.pgm is the image output.

diffscale is an optional parameter adjusting edge "brightness".
Specify small integer in the range of 1..20 (approx).
The current default is 4.

diffkernel (differentiation kernel size) adjust the detail/noise
sensitivity. Available kernel sizes: 2, 3, 4.
The default is 3 (Sobel operator).
Specifying 0 selects the default.
Specifying 1 skips the differentiation step entirely (aalib-style).

matchmethod selects the character matching algorithm used.
Available options:
 1 - Minimize SAD (sum of absolute differences)
 2 - Minimize weighted SAD + ASD (absolute sum of differences)
The current default is 2.
Notes:
 * MIN(SAD) is the tried and proven method used in video motion compensation.
 * MIN(SAD + ASD) tries to preserve perceptible tile brightness
   as well as its shape.

sadweight/asdweight parameters tune the SAD+ASD algorithm.
The matching algorithm looks for MIN(sadweight*SAD + asdweight*ASD).
The default values are sadweight = 5 and asdweight = 2.
Specify an integer, non-zero value. Specifying 0 selects the current default.

AAFONT environment variable overrides the default the font image.

2.1 Using the test utilities (plumbing)

Generate differentiated image:

$ ./testdiff image.pgm image.diff.pgm [diffscale] [diffkernel]

Generate ASCII text file from the differentiated image:

$ ./testconv image.diff.pgm font/font8x16.pgm image.txt

Render ASCII text back into image:

$ ./testrender image.txt font/font8x16.pgm image.txt.pgm

All arguments are required.
'-' supplied as an argument uses stdin or stdout for inputs and
outputs respectively.

font/font8x16.pgm is the VGA terminal font image supplied as a sample.
The font bitmap characters are stacked vertically starting from
the whitespace character (ASCII 0x20).

All image files are in the Portable GrayMap (PGM) format.
ImageMagick or netpbm may be used to generate compatible input(s) and
convert output(s) into something more usable.

3. Tweaking

Tweaking command line parameters:

Changing diffscale adjusts the amount of detail (and noise) that makes
it into the final ASCII picture.
Check generated .diff.pgm file to see the effect of the adjustments.

Changing diffkernel adjusts the detail sensitivity level.
Heavily oversampled images require larger kernels (4),
while vector drawing and pixel art details are better preserved by
smaller kernels (2). 3 is a reasonable default.

